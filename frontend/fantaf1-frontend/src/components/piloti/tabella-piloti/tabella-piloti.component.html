<div class="table-container">
  <table
    mat-table
    [dataSource]="piloti"
    class="mat-elevation-z8"
    *ngIf="piloti.length > 0"
  >
    <!-- Numero -->
    <ng-container matColumnDef="numero">
      <th mat-header-cell *matHeaderCellDef>Numero</th>
      <td mat-cell *matCellDef="let pilota">{{ pilota?.numero }}</td>
    </ng-container>

    <!-- Sigla -->
    <ng-container matColumnDef="sigla">
      <th mat-header-cell *matHeaderCellDef>Sigla</th>
      <td mat-cell *matCellDef="let pilota">{{ pilota?.sigla }}</td>
    </ng-container>

    <!-- Nome -->
    <ng-container matColumnDef="nome">
      <th mat-header-cell *matHeaderCellDef>Nome</th>
      <td mat-cell *matCellDef="let pilota">{{ pilota?.nome }}</td>
    </ng-container>

    <!-- Cognome -->
    <ng-container matColumnDef="cognome">
      <th mat-header-cell *matHeaderCellDef>Cognome</th>
      <td mat-cell *matCellDef="let pilota">{{ pilota?.cognome }}</td>
    </ng-container>

    <!-- Costo -->
    <ng-container matColumnDef="costo">
      <th mat-header-cell *matHeaderCellDef>Costo</th>
      <td mat-cell *matCellDef="let pilota">{{ pilota?.costo }}</td>
    </ng-container>

    <!-- Azioni -->
    <ng-container matColumnDef="azioni">
      <th mat-header-cell *matHeaderCellDef>Azioni</th>
      <td mat-cell *matCellDef="let pilota">
        <button
          mat-icon-button
          matTooltip="Storico Prezzo"
          (click)="viewHistory(pilota)"
        >
          <mat-icon>history</mat-icon>
        </button>
        <button
          mat-icon-button
          matTooltip="Statistiche Pilota"
          (click)="viewStats(pilota)"
        >
          <mat-icon>bar_chart</mat-icon>
        </button>
        <button
          mat-icon-button
          matTooltip="Modifica Prezzo"
          color="accent"
          (click)="editPrice(pilota)"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>

<p *ngIf="piloti.length === 0">Nessun pilota trovato per l'anno {{ anno }}</p>